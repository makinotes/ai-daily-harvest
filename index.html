<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Daily Feed — 每日 AI 精选</title>
<meta name="description" content="40+ AI 信源（国内+海外），日报/周报/月报自动生成，每日更新。评分、分类、开箱即用。">
<link rel="alternate" type="application/rss+xml" title="AI Daily Feed RSS" href="feeds/rss.xml">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>M</text></svg>">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#FFFFFF;
  --bg-card:#FFFFFF;
  --border:rgba(0,0,0,0.1);
  --border-hover:rgba(0,0,0,0.25);
  --text:#111111;
  --text-secondary:#333;
  --text-dim:#888;
  --accent:#1a2b4a;
  --accent-soft:rgba(26,43,74,0.05);
  --score-high:#1a2b4a;
  --score-mid:#777;
  --serif:'Instrument Serif',Georgia,serif;
  --mono:'JetBrains Mono','SF Mono',monospace;
  --body:system-ui,-apple-system,'Segoe UI',sans-serif;
}
html{font-size:16px;scroll-behavior:smooth}
body{
  background:var(--bg);
  color:var(--text);
  font-family:var(--body);
  line-height:1.7;
  min-height:100vh;
  -webkit-font-smoothing:antialiased;
}
a{color:var(--accent);text-decoration:none;transition:color .15s}
a:hover{text-decoration:underline;text-underline-offset:3px}

/* ── Shared Nav (inline for subpath pages) ── */
.site-nav{
  position:sticky;top:0;z-index:100;
  height:48px;display:flex;align-items:center;justify-content:space-between;
  padding:0 28px;
  background:rgba(255,255,255,0.92);
  backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);
  border-bottom:1px solid rgba(0,0,0,0.06);
  font-family:var(--body);font-size:.8125rem;
}
.site-nav-brand{
  font-family:var(--serif);font-size:1.125rem;
  color:#111;text-decoration:none;letter-spacing:-.01em;
}
.site-nav-brand:hover{color:#000;text-decoration:none}
.site-nav-links{display:flex;align-items:center;gap:24px;list-style:none}
.site-nav-links a{color:#555;text-decoration:none;transition:color .15s}
.site-nav-links a:hover{color:#111;text-decoration:none}
.nav-dropdown{position:relative}
.nav-dropdown-trigger{
  display:flex;align-items:center;gap:3px;
  color:#555;cursor:pointer;background:none;border:none;font:inherit;padding:0;transition:color .15s;
}
.nav-dropdown-trigger:hover{color:#111}
.nav-dropdown-trigger svg{width:10px;height:10px;opacity:.5;transition:transform .2s,opacity .2s}
.nav-dropdown:hover .nav-dropdown-trigger svg{transform:rotate(180deg);opacity:.8}
.nav-dropdown-menu{
  position:absolute;top:calc(100% + 12px);right:0;min-width:260px;
  background:#fff;border:1px solid rgba(0,0,0,0.08);border-radius:6px;
  box-shadow:0 8px 32px rgba(0,0,0,0.08),0 1px 3px rgba(0,0,0,0.04);
  padding:6px;opacity:0;visibility:hidden;transform:translateY(-4px);
  transition:opacity .15s,transform .15s,visibility .15s;
}
.nav-dropdown:hover .nav-dropdown-menu{opacity:1;visibility:visible;transform:translateY(0)}
.nav-dropdown-item{
  display:block;padding:10px 12px;border-radius:4px;
  text-decoration:none;color:#111;transition:background .12s;
}
.nav-dropdown-item:hover{background:#f5f5f5;color:#111;text-decoration:none}
.nav-dropdown-item-name{font-weight:500;font-size:.8125rem;margin-bottom:2px}
.nav-dropdown-item-desc{font-size:.7rem;color:#888;line-height:1.4}

/* ── Container ── */
.container{max-width:720px;margin:0 auto;padding:0 28px}

/* ── Header ── */
header{padding:56px 0 36px}
.masthead{
  font-family:var(--serif);
  font-size:2.25rem;font-weight:400;
  color:var(--text);letter-spacing:-.02em;line-height:1.2;
}
.masthead em{font-style:italic;color:var(--accent)}
.tagline{margin-top:10px;font-size:.9rem;color:var(--text-dim)}
.meta-bar{
  display:flex;gap:16px;margin-top:20px;
  font-size:.75rem;font-family:var(--mono);color:var(--text-dim);
}
.meta-bar .dot{color:var(--border-hover)}

/* ── Section titles ── */
.section-title{
  font-family:var(--mono);
  font-size:.6875rem;letter-spacing:.1em;text-transform:uppercase;
  color:var(--text-dim);margin-bottom:20px;padding-bottom:10px;
  border-bottom:1px solid var(--border);
  display:flex;align-items:center;gap:10px;
}
.section-title .badge{
  font-family:var(--mono);font-size:.6rem;
  background:var(--accent);color:#fff;
  padding:2px 8px;border-radius:2px;
  font-weight:700;letter-spacing:.05em;text-transform:uppercase;
}
section{padding-top:32px;margin-bottom:40px}

/* ── Article cards ── */
.articles{display:flex;flex-direction:column}
.article{
  display:grid;grid-template-columns:42px 1fr;gap:16px;
  padding:16px 0;border-bottom:1px solid var(--border);
  transition:background .12s;
}
.article:last-child{border-bottom:none}
.article:hover{background:var(--accent-soft);margin:0 -12px;padding:16px 12px;border-radius:4px}
.score-col{display:flex;flex-direction:column;align-items:center;padding-top:2px}
.score{
  font-family:var(--mono);font-size:1.05rem;font-weight:700;
  color:var(--score-high);
}
.score.mid{color:var(--score-mid)}
.article-body h3{font-size:.9375rem;font-weight:500;color:var(--text);line-height:1.5;margin-bottom:3px}
.article-body h3 a{color:inherit}
.article-body h3 a:hover{color:var(--accent)}
.article-meta{
  font-size:.7rem;color:var(--text-dim);font-family:var(--mono);
  display:flex;gap:12px;flex-wrap:wrap;
}
.article-why{font-size:.8125rem;color:var(--text-secondary);margin-top:6px;line-height:1.6}

/* ── Trending ── */
.trending-bar{display:flex;flex-wrap:wrap;gap:8px}
.trend-tag{
  font-family:var(--mono);font-size:.7rem;
  padding:4px 12px;border:1px solid var(--border);border-radius:3px;
  color:var(--text-dim);transition:all .15s;cursor:pointer;
}
.trend-tag:hover{border-color:var(--border-hover);color:var(--text)}
.trend-tag.active{border-color:var(--accent);color:var(--accent);background:var(--accent-soft)}
.trend-count{color:var(--accent);margin-left:4px;opacity:.6}

/* ── Links grid ── */
.links-grid{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:10px;
}
.link-card{
  padding:18px;border:1px solid var(--border);background:var(--bg-card);
  border-radius:4px;transition:all .15s;
}
.link-card:hover{border-color:var(--border-hover);text-decoration:none;box-shadow:0 2px 12px rgba(0,0,0,0.04)}
.link-card .label{
  font-family:var(--mono);font-size:.65rem;color:var(--accent);
  text-transform:uppercase;letter-spacing:.08em;margin-bottom:5px;opacity:.7;
}
.link-card .desc{font-size:.8125rem;color:var(--text-secondary);line-height:1.5}

/* ── Digest list ── */
.digest-row{
  display:flex;align-items:baseline;gap:16px;
  padding:7px 0;border-bottom:1px solid var(--border);font-size:.8125rem;
}
.digest-row:last-child{border-bottom:none}
.digest-date{font-family:var(--mono);font-size:.7rem;color:var(--text-dim);min-width:80px}

/* ── Footer ── */
footer{
  padding:32px 0 48px;border-top:1px solid var(--border);margin-top:16px;
  font-size:.75rem;font-family:var(--mono);color:var(--text-dim);
  display:flex;justify-content:space-between;flex-wrap:wrap;gap:12px;
}
footer a{color:var(--text-dim);text-decoration:none}
footer a:hover{color:var(--accent);text-decoration:none}

/* ── States ── */
.loading{
  text-align:center;padding:40px;color:var(--text-dim);
  font-family:var(--mono);font-size:.75rem;
}
.loading::after{
  content:'';display:inline-block;width:12px;height:12px;
  border:1.5px solid var(--text-dim);border-top-color:transparent;
  border-radius:50%;animation:spin .8s linear infinite;
  margin-left:8px;vertical-align:middle;
}
@keyframes spin{to{transform:rotate(360deg)}}
.empty{text-align:center;padding:40px;color:var(--text-dim);font-size:.8125rem}

/* ── Animation ── */
.fade-in{opacity:0;transform:translateY(12px);animation:fadeUp .5s ease forwards}
@keyframes fadeUp{to{opacity:1;transform:translateY(0)}}
.delay-1{animation-delay:.08s}
.delay-2{animation-delay:.16s}
.delay-3{animation-delay:.24s}
.delay-4{animation-delay:.32s}

/* ── Responsive ── */
@media(max-width:600px){
  header{padding:40px 0 24px}
  .masthead{font-size:1.625rem}
  .meta-bar{flex-direction:column;gap:4px}
  .article{grid-template-columns:36px 1fr;gap:12px}
  .links-grid{grid-template-columns:1fr}
  footer{flex-direction:column}
  .site-nav{padding:0 16px}
  .site-nav-links{gap:16px}
}
</style>
</head>
<body>

<!-- Shared nav -->
<nav class="site-nav">
  <a class="site-nav-brand" href="/">makino</a>
  <ul class="site-nav-links">
    <li class="nav-dropdown">
      <button class="nav-dropdown-trigger" aria-expanded="false" aria-current="page">
        Projects
        <svg viewBox="0 0 10 6" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M1 1l4 4 4-4"/></svg>
      </button>
      <div class="nav-dropdown-menu">
        <a class="nav-dropdown-item" href="/ai-daily-feed/">
          <div class="nav-dropdown-item-name">AI Daily Feed</div>
          <div class="nav-dropdown-item-desc">40+ AI 信源（国内+海外），日报/周报/月报</div>
        </a>
        <a class="nav-dropdown-item" href="https://github.com/makinotes/onepage-system">
          <div class="nav-dropdown-item-name">One Page System</div>
          <div class="nav-dropdown-item-desc">Obsidian PKM starter kit</div>
        </a>
      </div>
    </li>
    <li><a href="https://github.com/makinotes" target="_blank" rel="noopener">GitHub</a></li>
  </ul>
</nav>

<div class="container">
  <header class="fade-in">
    <div class="masthead">AI Daily <em>Feed</em></div>
    <div class="tagline">40+ AI 信源（国内公众号 + 海外博客，持续新增）· 日报 / 周报 / 月报自动生成 · 每日 8:30 左右更新（没更新就是系统挂了）</div>
    <div class="meta-bar" id="meta-bar">
      <span>加载中...</span>
    </div>
  </header>

  <section class="fade-in delay-1">
    <div class="section-title">Trending</div>
    <div class="trending-bar" id="trending">
      <div class="loading">loading</div>
    </div>
  </section>

  <section id="tag-results-section" style="display:none">
    <div class="section-title" id="tag-results-title"></div>
    <div class="articles" id="tag-results"></div>
  </section>

  <section class="fade-in delay-2" id="must-read-section">
    <div class="section-title">Must Read <span class="badge">Today</span></div>
    <div class="articles" id="must-read">
      <div class="loading">loading</div>
    </div>
  </section>

  <section id="worth-section" class="fade-in delay-3" style="display:none">
    <div class="section-title">Worth Reading</div>
    <div class="articles" id="worth-reading"></div>
  </section>

  <section id="neutral-section" class="fade-in delay-3" style="display:none">
    <div class="section-title">Also Noted</div>
    <div class="articles" id="neutral-list"></div>
  </section>

  <section class="fade-in delay-3">
    <div class="section-title">Quick Access</div>
    <div class="links-grid">
      <a class="link-card" href="lists/daily-picks.json">
        <div class="label">Today's Picks</div>
        <div class="desc">每日精选 JSON，Agent 直接调用</div>
      </a>
      <a class="link-card" href="feeds/rss.xml">
        <div class="label">RSS Feed</div>
        <div class="desc">订阅高质量文章，滚动 50 条</div>
      </a>
      <a class="link-card" href="digest/">
        <div class="label">Digest</div>
        <div class="desc">每日可读日报，按月归档</div>
      </a>
      <a class="link-card" href="datasets/scored-articles.jsonl">
        <div class="label">Dataset</div>
        <div class="desc">累积数据集，带标注</div>
      </a>
      <a class="link-card" href="indexes/by-category.json">
        <div class="label">By Category</div>
        <div class="desc">按领域查看近 30 天文章</div>
      </a>
      <a class="link-card" href="llms-full.txt">
        <div class="label">For LLMs</div>
        <div class="desc">完整 Schema + 接入指南</div>
      </a>
    </div>
  </section>

  <section class="fade-in delay-3">
    <div class="section-title">Reports</div>
    <div class="links-grid">
      <a class="link-card" href="https://github.com/makinotes/ai-daily-feed/blob/master/feeds/monthly/2026-02.md" target="_blank" rel="noopener">
        <div class="label">Monthly — 2026.02</div>
        <div class="desc">2 月 AI 内容生态月报：488 篇文章 × 37 信源 × 8 维度</div>
      </a>
      <a class="link-card" href="https://github.com/makinotes/ai-daily-feed/blob/master/feeds/weekly/2026-W09.md" target="_blank" rel="noopener">
        <div class="label">Weekly — W09</div>
        <div class="desc">最新周报：趋势分析 + Top 10 文章</div>
      </a>
    </div>
  </section>

  <section class="fade-in delay-4">
    <div class="section-title">Recent Digests</div>
    <div class="digest-list" id="digest-list">
      <div class="loading">loading</div>
    </div>
  </section>

  <footer class="fade-in delay-4">
    <span>CC BY-NC 4.0 · 非商业用途，仅限个人使用</span>
    <span>
      <a href="https://github.com/makinotes/ai-daily-feed">GitHub</a>
      &nbsp;&middot;&nbsp;
      <a href="feeds/rss.xml">RSS</a>
      &nbsp;&middot;&nbsp;
      <a href="llms.txt">llms.txt</a>
    </span>
  </footer>
</div>

<script>
const BASE = 'https://raw.githubusercontent.com/makinotes/ai-daily-feed/master';

function renderArticle(a, showWhy) {
  const isHigh = a.score >= 80;
  return `<div class="article">
    <div class="score-col">
      <div class="score ${isHigh ? '' : 'mid'}">${a.score}</div>
    </div>
    <div class="article-body">
      <h3><a href="${a.link}" target="_blank" rel="noopener">${a.title}</a></h3>
      <div class="article-meta"><span>${a.source}</span></div>
      ${showWhy && a.why_matters ? `<div class="article-why">${a.why_matters}</div>` : ''}
    </div>
  </div>`;
}

let picksCache = null;
async function fetchPicks() {
  if (picksCache) return picksCache;
  const r = await fetch(`${BASE}/lists/daily-picks.json`);
  picksCache = await r.json();
  return picksCache;
}

async function loadPicks() {
  try {
    const d = await fetchPicks();
    const total = (d.must_read||[]).length + (d.worth_reading||[]).length + (d.neutral||[]).length;
    document.getElementById('meta-bar').innerHTML = `
      <span>${d.date}</span>
      <span class="dot">&middot;</span>
      <span>${total} articles</span>
      <span class="dot">&middot;</span>
      <span>${(d.must_read||[]).length} must-read</span>
    `;
    const mustEl = document.getElementById('must-read');
    if (d.must_read && d.must_read.length) {
      mustEl.innerHTML = d.must_read.map(a => renderArticle(a, true)).join('');
    } else {
      mustEl.innerHTML = '<div class="empty">今日暂无必读</div>';
    }
    if (d.worth_reading && d.worth_reading.length) {
      document.getElementById('worth-section').style.display = '';
      document.getElementById('worth-reading').innerHTML =
        d.worth_reading.map(a => renderArticle(a, false)).join('');
    }
    if (d.neutral && d.neutral.length) {
      document.getElementById('neutral-section').style.display = '';
      document.getElementById('neutral-list').innerHTML =
        d.neutral.map(a => renderArticle(a, false)).join('');
    }
  } catch (e) {
    document.getElementById('must-read').innerHTML = '<div class="empty">数据加载失败，请稍后刷新</div>';
  }
}

async function loadTrending() {
  try {
    const r = await fetch(`${BASE}/indexes/trending.json`);
    const d = await r.json();
    const el = document.getElementById('trending');
    if (d.trending && d.trending.length) {
      el.innerHTML = d.trending.slice(0, 12).map(t =>
        `<span class="trend-tag" onclick="filterByTag(this,'${t.keyword.replace(/'/g,"\\\'")}')">${t.keyword}<span class="trend-count">&times;${t.count}</span></span>`
      ).join('');
    } else { el.innerHTML = ''; }
  } catch (e) { document.getElementById('trending').innerHTML = ''; }
}

async function loadDigests() {
  try {
    const d = await fetchPicks();
    const dates = [];
    const dt = new Date(d.date + 'T12:00:00');
    let attempts = 0;
    while (dates.length < 10 && attempts < 30) {
      const ds = dt.toISOString().slice(0, 10);
      dates.push(ds);
      dt.setDate(dt.getDate() - 1);
      attempts++;
    }
    document.getElementById('digest-list').innerHTML = dates.map(ds => {
      const month = ds.slice(0, 7);
      return `<div class="digest-row">
        <span class="digest-date">${ds}</span>
        <a href="https://github.com/makinotes/ai-daily-feed/blob/master/digest/${month}/${ds}.md" target="_blank" rel="noopener">${ds}</a>
      </div>`;
    }).join('');
  } catch (e) {
    document.getElementById('digest-list').innerHTML = '<div class="empty">加载失败</div>';
  }
}

let activeTag = null;
let categoryCache = null;

async function loadCategories() {
  if (categoryCache) return categoryCache;
  const r = await fetch(`${BASE}/indexes/by-category.json`);
  categoryCache = await r.json();
  return categoryCache;
}

async function filterByTag(el, keyword) {
  const tags = document.querySelectorAll('.trend-tag');
  const resultsSection = document.getElementById('tag-results-section');
  const mustReadSection = document.getElementById('must-read-section');
  const worthSection = document.getElementById('worth-section');
  const neutralSection = document.getElementById('neutral-section');

  if (activeTag === keyword) {
    activeTag = null;
    tags.forEach(t => t.classList.remove('active'));
    resultsSection.style.display = 'none';
    mustReadSection.style.display = '';
    if (document.getElementById('worth-reading').children.length) worthSection.style.display = '';
    if (document.getElementById('neutral-list').children.length) neutralSection.style.display = '';
    return;
  }

  activeTag = keyword;
  tags.forEach(t => t.classList.remove('active'));
  el.classList.add('active');

  const resultsEl = document.getElementById('tag-results');
  resultsEl.innerHTML = '<div class="loading">loading</div>';
  resultsSection.style.display = '';
  mustReadSection.style.display = 'none';
  worthSection.style.display = 'none';
  neutralSection.style.display = 'none';

  try {
    const data = await loadCategories();
    const kw = keyword.toLowerCase();
    const matches = [];
    for (const cat of Object.values(data.categories || {})) {
      for (const a of cat) {
        const inTitle = a.title && a.title.toLowerCase().includes(kw);
        const inTags = a.tags && a.tags.some(t => t.toLowerCase().includes(kw));
        if (inTitle || inTags) matches.push(a);
      }
    }
    const unique = [...new Map(matches.map(a => [a.link, a])).values()]
      .sort((a, b) => b.score - a.score)
      .slice(0, 20);

    document.getElementById('tag-results-title').innerHTML =
      `"${keyword}" <span class="badge">${unique.length} articles</span>`;

    if (unique.length) {
      resultsEl.innerHTML = unique.map(a => renderArticle(a, true)).join('');
    } else {
      resultsEl.innerHTML = '<div class="empty">无匹配文章</div>';
    }
  } catch (e) {
    resultsEl.innerHTML = '<div class="empty">加载失败</div>';
  }

  resultsSection.scrollIntoView({behavior:'smooth',block:'nearest'});
}

loadPicks();
loadTrending();
loadDigests();
</script>
</body>
</html>
